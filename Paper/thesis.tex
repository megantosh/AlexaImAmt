\documentclass[12pt,a4paper]{report}

%###################################################################################
%###################### Document Defintions ########################################
%###################################################################################
%aubrey: no real need to change these
%how to handle spaces
\sloppy
\makeindex

\usepackage[utf8]{inputenc} %changed document encoding before to UTF8
\usepackage[UKenglish]{babel}

\usepackage{amsmath, marvosym} % Mathematik
%\usepackage{harvard} %for harvard style citation, keep this position before url package
\usepackage{cite} %added by MM
%\usepackage{natbib} %bibliography from BADS
%\usepackage{bibgerm}

\usepackage{times, url, geometry, amssymb, booktabs, html}
\usepackage{hyperref} %Hyperlinks zw. Textstellen
\usepackage[pdftex]{graphicx} %pdf figures
%\usepackage{subfig} %multi-figures - deprecated
\usepackage{subcaption}
\usepackage{listings} %code listings
\usepackage{multirow} %for multi-row tables
\usepackage{color} %needed for listings
%\usepackage{todonotes} %for annotations
\usepackage[show]{chato-notes} %note/todo/inote/citeMissing - change to [hide]
\usepackage{qtree}


\usepackage{mathtools}% underbraces maybe etc
\usepackage{minted}
%\usepackage{pygmentize}
\usepackage{wrapfig, lipsum} %for wrapping
\usepackage{tabularx} %tables gamila khales


\usepackage{tipa} % for phonetics
% syntax: https://www.tug.org/tugboat/tb17-2/tb51rei.pdf



%%%%%%%%%%%%%%%% for good code
\usepackage[]{minted}
\usepackage{tcolorbox}
\usepackage{lineno}

%minted option - use inside colorvar
\definecolor{bgkolor}{rgb}{0.95,0.95,0.95}
%minted options
%frame=lines, framesep=2mm, baselinestretch=1.2, fontsize=\footnotesize
%for line breaks

%% from https://tex.stackexchange.com/questions/112559/box-around-minted-environment
%no longer necessary options:
%\def\gobble#1{}
%\renewcommand\DeleteFile[1]{}
%\usepackage{xparse}
%\ExplSyntaxOn
%\box_new:N \l_fvrb_box
%\tl_new:N \l_fvrb_tl
%
%\RenewDocumentCommand \FancyVerbFormatLine { m }
%{
%	\hbox_set:Nn \l_fvrb_box { #1 }
%	\dim_compare:nNnTF { \box_wd:N \l_fvrb_box }>{ \linewidth }
%	{%box to big 
%		\tl_set:Nn \l_fvrb_tl { #1 }
%		\fvrb_use_tl:N \l_fvrb_tl
%	} 
%	{%box fits
%		\box_use:N \l_fvrb_box
%	}
%}
%
%\cs_new:Npn \fvrb_use_tl:N  #1
%{
%	\group_begin:
%	\null\hfill\vbox_set:Nn \l_fvrb_box
%	{\hsize=\linewidth
%		\renewcommand\thelinenumber
%		{
%			\ifnum\value{linenumber}=1\relax\else
%			$\rightarrow$
%			\fi
%		}
%		\begin{internallinenumbers}
%			\advance\hsize by -2em
%			\hspace*{-2em}\tl_use:N #1
%		\end{internallinenumbers}
%	}
%	\box_use:N \l_fvrb_box
%	\group_end:
%}
%
%\ExplSyntaxOff
%
%

%for more advanced coloring (I don't like it personally)
%\usepackage{etoolbox}
%\BeforeBeginEnvironment{minted}{\begin{tcolorbox}}%
%	\AfterEndEnvironment{minted}{\end{tcolorbox}}%

%\tcbuselibrary{minted}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



% for mint inside tables
%https://tex.stackexchange.com/questions/372053/using-mintinline-inside-tabu
%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tabu}
\tabuDisableCommands{%
	\renewcommand\mintinline[2]{\texttt{\detokenize{#2}}}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%



%https://tex.stackexchange.com/questions/6260/how-to-draw-box-around-text-that-contains-a-verbatim-block
%%%%%%%%%%%%%%%%%%%%%%%%%%%


\usepackage{tikz}
\usetikzlibrary{shapes.callouts} 

\pgfkeys{%
	/calloutquote/.cd,
	width/.code                   =  {\def\calloutquotewidth{#1}},
	position/.code                =  {\def\calloutquotepos{#1}}, 
	author/.code                  =  {\def\calloutquoteauthor{#1}},
	/calloutquote/.unknown/.code   =  {\let\searchname=\pgfkeyscurrentname
		\pgfkeysalso{\searchname/.try=#1,                                
			/tikz/\searchname/.retry=#1},\pgfkeysalso{\searchname/.try=#1,
			/pgf/\searchname/.retry=#1}}
}  


\newcommand\calloutquote[2][]{%
	\pgfkeys{/calloutquote/.cd,
		width               = 5cm,
		position            = {(0,-1)},
		author              = {}}
	\pgfqkeys{/calloutquote}{#1}                   
	\node [rectangle callout,callout relative pointer={\calloutquotepos},text width=\calloutquotewidth,/calloutquote/.cd,
	#1] (tmpcall) at (0,0) {#2};
	\node at (tmpcall.pointer){\calloutquoteauthor};    
}  


%%%%%%%%%%%%%%%%%%%%%%%%%%%


%depth of section
\setcounter{secnumdepth}{4}
%depth of TOC
\setcounter{tocdepth}{3} 
%directory for graphics
\graphicspath{{gfx/}}

%setting for listing
\lstset{
	extendedchars=true,
	basicstyle=\scriptsize\ttfamily,
	%basicstyle=\tiny\ttfamily,
	tabsize=2,
	keywordstyle=\textbf,
	commentstyle=\color{grau},
	stringstyle=\textit,
	numbers=left,
	numberstyle=\tiny,
	% für schönen Zeilenumbruch
	breakautoindent  = true,
	breakindent      = 2em,
	breaklines       = true,
	postbreak        = ,
	%prebreak         = \raisebox{-.8ex}[0ex][0ex]{\ensuremath{\lrcorner}},
	prebreak         = \raisebox{-.8ex}[0ex][0ex]{\Righttorque},
}

%Table of Content TOC settings
\setcounter{tocdepth}{3}
%This is needed for entering URLs for harvard citation style
%\renewcommand{\harvardurl}{URL: \url}



%as suggested by https://tex.stackexchange.com/questions/304205/center-image-to-page-inside-enumerate
% but could use something like this: https://tex.stackexchange.com/questions/149418/changepage-packages-adjustwidth-environment-adjusts-only-left-margin
\usepackage{changepage}
\makeatletter
\newenvironment{restoretext}%
{\@parboxrestore%
	\begin{adjustwidth}{}{\rightmargin}%
	}{\end{adjustwidth}
}
\makeatother



%###################################################################################
%########################### Thesis content ########################################
%###################################################################################
\begin{document}
%__________________________Start_of_Thesis______________________________________________
%Roman numeral numbering for initial section of thesis
\pagenumbering{roman}
%title page specification, deployed as seperate file the input folder
\input{input/00a_title_page}
%abstract plus acknowledgement and statement
\input{input/00b_abstract_ack}
%TOC
\tableofcontents
%add list of figures to TOC
\cleardoublepage
\addcontentsline{toc}{chapter}{List of Figures}
\newpage
\listoffigures
%add list of tables to TOC
\cleardoublepage
\addcontentsline{toc}{chapter}{List of Tables}
\newpage
\listoftables

%abbreviations go in appendix
%physical constants
%list of symbols

%%from LatexTemplates
%----------------------------------------------------------------------------------------
%	ABBREVIATIONS PAGE DESIGN
%----------------------------------------------------------------------------------------

%\newcommand{\abbrevname}{List of Abbreviations}
%\providecaptionname{english,british,american}{\abbrevname}{List of Abbreviations}
%\providecaptionname{ngerman,german,austrian,naustrian}{\abbrevname}{Abk\"urzungsverzeichnis}
%\NewDocumentEnvironment{abbreviations}{ m }{%
%	\ifbool{nolistspace}{\begingroup\singlespacing}{}
%	\ifbool{listtoc}{\addchap{\abbrevname}}{\addchap*{\abbrevname}}
%	\begin{longtable}{#1}
%	}{%
%	\end{longtable}
%	\addtocounter{table}{-1} % Don't count this table as one of the document tables
%	\ifbool{nolistspace}{\endgroup}{}
%}




%__________________________Main_Content______________________________________________
\newpage
%from now on, numbering should be arabic
\pagenumbering{arabic}
\input{input/01_introduction}
\input{input/02_background}
\input{input/03_main_part_1}
\input{input/04_main_part_2}
\input{input/05_evaluation}
\input{input/06_conclusion}

%__________________________End_of_Thesis______________________________________________
\cleardoublepage
\addcontentsline{toc}{chapter}{Bibliography}
%harvard citations style, please uncomment harvard package in the usepackage area
%\bibliographystyle{agsm}
%\bibliographystyle{gerapali} %long, author+year
%remove the following line when using harvard style citation
\bibliographystyle{plain}  %short - only numbers
%specify bibtex file here
\bibliography{input/mybib}
%add appendix to TOC
\addcontentsline{toc}{chapter}{Appendices}
\input{input/07_appendix}

\end{document}

%figures positioning
%
%h	Place the float here, i.e., approximately at the same point it occurs in the source text (however, not exactly at the spot)
%t	Position at the top of the page.
%b	Position at the bottom of the page.
%p	Put on a special page for floats only.
%!	Override internal parameters LaTeX uses for determining "good" float positions.
%H	Places the float at precisely the location in the LaTeX code. Requires the float package (\usepackage{float}). This is somewhat equivalent to h!.